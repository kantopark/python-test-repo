setup:
  build: false
  commit: master
  image: danielbok/nida-python:3.7.5

# global environment variables
environment:
  key1: value will be a string,
  key2: "9090"
  key3: previous value is quoted because yaml can interpret that as a int or decimal

steps:
  # elements in steps are executed in order with the name representing the step name
  # step names must be unique. For each task within the step, their names must be unique.
  # however, the name need not be unique across steps. Thus, you could have Step1:Fn1
  # and Step2:Fn1. Even though the function names are both Fn1, since they belong to
  # different steps, it is okay
  - name: Extraction
    tasks:
      # elements in list are executed together
      - name: Extract Cars data from Github
        cmd: extract_a.py
        environment:
          file_name: cars.csv

      - name: Extract MT Cars data from Github
        cmd: extract_b.py

  - name: Transformation
    tasks:
      - name: Multiply numeric data in cars by 2
        cmd: transform.py

  - name: Save
    tasks:
      - name: Write just cars data to database
        cmd: save.py
